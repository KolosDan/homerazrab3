(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(23),l=a(24),r=a(26),c=a(25),o=a(27),s=a(17),i=a(0),m=a.n(i),d=a(18),u=a.n(d),h=a(3),E=(a(115),a(44)),p=a.n(E),v=a(45),g=a.n(v),b=a(46),f=a.n(b),y=a(47),C=a.n(y),S=a(48),_=a.n(S),k=a(49),j=a.n(k),O=a(50),x=a.n(O),A=a(51),z=a.n(A),w=a(19),I={},V=p.a.create({headers:{"Access-Control-Allow-Origin":"*"}});w.send("VKWebAppInit",{});var K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={ready:!1,activeStory:"feed",access_token:"",register:!0},a.onStoryChange=a.onStoryChange.bind(Object(s.a)(Object(s.a)(a))),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.subscribe(function(t){console.log(t),"VKWebAppGetUserInfoResult"===t.detail.type?(I=t.detail.data,console.log(I),e.setState({ready:!0})):"VKWebAppAccessTokenReceived"===t.detail.type?(e.state.access_token=t.detail.data.access_token,w.send("VKWebAppCallAPIMethod",{method:"groups.get",request_id:"groups.get",params:{extended:1,user_id:I.id,v:"5.101",filter:"groups",count:1e3,access_token:e.state.access_token}})):"VKWebAppCallAPIMethodResult"===t.detail.type&&t.detail.data.request_id}),w.send("VKWebAppGetUserInfo",{}),w.send("VKWebAppGetAuthToken",{app_id:7403106,scope:"groups,friends"})}},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){var e=this;return this.state.ready?(console.log(this.state.ready),this.state.register?m.a.createElement(W,{setIndex:function(t){return e.setState({register:!1})}}):m.a.createElement(h.e,{activeStory:this.state.activeStory,tabbar:m.a.createElement(h.s,null,m.a.createElement(h.t,{onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed",text:"\u041b\u0435\u043d\u0442\u0430"},m.a.createElement(f.a,null)),m.a.createElement(h.t,{onClick:this.onStoryChange,selected:"discover"===this.state.activeStory,"data-story":"discover",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},m.a.createElement(g.a,null)),m.a.createElement(h.t,{onClick:this.onStoryChange,selected:"messages"===this.state.activeStory,"data-story":"messages",label:"12",text:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"},m.a.createElement(C.a,null)))},m.a.createElement(h.v,{id:"feed",activePanel:"feed"},m.a.createElement(h.l,{id:"feed"},m.a.createElement(h.m,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),m.a.createElement(h.h,null,m.a.createElement(h.k,null,m.a.createElement(h.c,{before:m.a.createElement(h.a,{size:72}),size:"l",description:"\u0427\u0435 \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0448\u043e\u043d?",bottomContent:m.a.createElement("div",{style:{display:"flex"}},m.a.createElement(h.b,{size:"m"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))},"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"),m.a.createElement(h.c,{before:m.a.createElement(h.a,{size:72}),size:"l",description:"\u0427\u0435 \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0448\u043e\u043d?",bottomContent:m.a.createElement("div",{style:{display:"flex"}},m.a.createElement(h.b,{onClick:function(){e.setState({activeStory:"messages"})},size:"m"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))},"\u0424\u0438\u0437\u0438\u043a\u0430"),m.a.createElement(h.c,{before:m.a.createElement(h.a,{size:72}),size:"l",description:"\u0427\u0435 \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0448\u043e\u043d?",bottomContent:m.a.createElement("div",{style:{display:"flex"}},m.a.createElement(h.b,{size:"m"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))},"\u0425\u0438\u043c\u0438\u044f"))))),m.a.createElement(h.v,{id:"discover",activePanel:"discover"},m.a.createElement(h.l,{id:"discover",separator:!1},m.a.createElement(h.p,{right:m.a.createElement(h.n,null)},m.a.createElement(h.o,{before:m.a.createElement(h.a,{size:48,src:I.photo_100})},I.first_name," ",I.last_name)),m.a.createElement(h.h,null,m.a.createElement(h.c,{before:m.a.createElement(j.a,null)},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),m.a.createElement(h.c,{before:m.a.createElement(_.a,null)},"\u041d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442\u044c"),m.a.createElement(h.c,{before:m.a.createElement(x.a,null)},"\u0423\u0447\u0451\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"),m.a.createElement(h.c,{before:m.a.createElement(z.a,null)},"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435")),m.a.createElement(h.f,null,m.a.createElement(h.u,{top:"\u041e \u0441\u0435\u0431\u0435"})))))):m.a.createElement("div",null)}}]),t}(m.a.Component),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={activeStory:"discover",sex:"men",pref:"",age:18},a.handleChange_sex=a.handleChange_sex.bind(Object(s.a)(Object(s.a)(a))),a.handleChange_age=a.handleChange_age.bind(Object(s.a)(Object(s.a)(a))),a.onStoryChange=a.onStoryChange.bind(Object(s.a)(Object(s.a)(a))),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleChange_sex",value:function(e){console.log(e.target.value),this.setState({sex:e.target.value})}},{key:"handleChange_age",value:function(e){console.log("age")}},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"register_user",value:function(){V.post("http://35.228.42.210:5000/signup",{user_id:I.id,age:""}).then(function(e){e.data.error&&alert(e.data.error)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return m.a.createElement(h.q,{activeView:this.state.activeStory},m.a.createElement(h.v,{id:"discover",activePanel:"discover"},m.a.createElement(h.l,{id:"discover",separator:!1},m.a.createElement(h.p,{right:m.a.createElement(h.n,null)},m.a.createElement(h.o,{before:m.a.createElement(h.a,{size:48,src:I.photo_100})},I.first_name," ",I.last_name)),m.a.createElement(h.h,null,m.a.createElement(h.f,null,m.a.createElement(h.g,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"},m.a.createElement(h.j,{onChange:this.handleChange_age(),type:"text",placeholder:"18"}))),m.a.createElement(h.f,null,m.a.createElement(h.r,{onChange:this.handleChange(),top:"\u0412\u0430\u0448 \u0433\u0435\u043d\u0434\u0435\u0440",placeholder:""},m.a.createElement("option",{value:"male-straight"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u041d\u0430\u0442\u0443\u0440\u0430\u043b"),m.a.createElement("option",{value:"female-straight"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u041d\u0430\u0442\u0443\u0440\u0430\u043b"),m.a.createElement("option",{value:"male-homo"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u0413\u043e\u043c\u043e\u0441\u0435\u043a\u0441\u0443\u0430\u043b\u0438\u0441\u0442"),m.a.createElement("option",{value:"female-homo"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u0413\u043e\u043c\u043e\u0441\u0435\u043a\u0441\u0443\u0430\u043b\u0438\u0441\u0442"),m.a.createElement("option",{value:"male-bi"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u0411\u0438"),m.a.createElement("option",{value:"female-bi"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u0411\u0438"),m.a.createElement("option",{value:"non-binary"},"\u041d\u0435 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439"))),m.a.createElement(h.h,{header:m.a.createElement(h.i,{mode:"secondary"},"\u0412\u0430\u0448\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f")},m.a.createElement(h.f,null,m.a.createElement(h.d,{value:"male-straight"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u041d\u0430\u0442\u0443\u0440\u0430\u043b"),m.a.createElement(h.d,{value:"female-straight"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u041d\u0430\u0442\u0443\u0440\u0430\u043b"),m.a.createElement(h.d,{value:"male-homo"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u0413\u043e\u043c\u043e\u0441\u0435\u043a\u0441\u0443\u0430\u043b\u0438\u0441\u0442"),m.a.createElement(h.d,{value:"female-homo"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u0413\u043e\u043c\u043e\u0441\u0435\u043a\u0441\u0443\u0430\u043b\u0438\u0441\u0442"),m.a.createElement(h.d,{value:"male-bi"},"\u041c\u0443\u0436\u0447\u0438\u043d\u0430 \u0411\u0438"),m.a.createElement(h.d,{value:"female-bi"},"\u0416\u0435\u043d\u0449\u0438\u043d\u0430 \u0411\u0438"),m.a.createElement(h.d,{value:"non-binary"},"\u041d\u0435 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439"),m.a.createElement(h.b,{mode:"secondary",onClick:function(){return e.props.setIndex()},size:"xl"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))))))}}]),t}(m.a.Component);u.a.render(m.a.createElement(K,null),document.getElementById("root"))},99:function(e,t,a){e.exports=a(100)}},[[99,1,2]]]);
//# sourceMappingURL=main.195b9765.chunk.js.map