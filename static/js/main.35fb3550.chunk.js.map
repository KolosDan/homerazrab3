{"version":3,"sources":["index.js"],"names":["user_obj","user_groups","user_global_api","parent_context","instance","axios","create","headers","Access-Control-Allow-Origin","X-Requested-With","connect","Example","props","_this","Object","_home_dev_Documents_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_dev_Documents_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_dev_Documents_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","ready","activeStory","access_token","register","loader","pref","users","notifications","popout","current_notification","interests","notification_count","user_photos","onStoryChange","bind","_home_dev_Documents_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleChange","handleCheckbox","update_user_data","get_users","start_dialog","get_notifications","openModal","get_notification_user","resolve_notification","get_photos","e","_e$currentTarget","currentTarget","name","value","console","log","setState","_home_dev_Documents_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_e$currentTarget2","checked","push","splice","indexOf","dataset","story","id_to","post","from","id","to","then","response","data","result","catch","error","user_id","filter","length","type","map","val","document","getElementsByName","age","description","gender","preferences","method","request_id","params","owner_id","album_id","count","v","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_9__","actions","title","autoclose","mode","onClose","_this2","setInterval","curret_this","detail","extended","fields","lang","items","item","sizes","pop","url","app_id","scope","_this3","activePanel","style","display","alignItems","flexDirection","size","marginTop","RegisterForm","tabbar","onClick","selected","data-story","text","_vkontakte_icons_dist_24_settings__WEBPACK_IMPORTED_MODULE_12___default","_vkontakte_icons_dist_28_add_outline__WEBPACK_IMPORTED_MODULE_13___default","label","toString","_vkontakte_icons_dist_28_newsfeed__WEBPACK_IMPORTED_MODULE_14___default","before","geo","bottomContent","first_name","interest","wide","separator","right","src","photo_100","status","last_name","top","onChange","defaultValue","header","placeholder","defaultChecked","notification","from_name","left","stretched","slideWidth","height","bullets","photo","backgroundSize","backgroundImage","alert","React","Component","_this4","sex","register_user","_e$currentTarget3","_e$currentTarget4","city","groups","_this5","activeView","ReactDOM","render","getElementById"],"mappings":"4TAaIA,EAAW,GACXC,EAAc,GACdC,EAAkB,GAClBC,EAAiB,GAEfC,EAAWC,IAAMC,OAAO,CAC5BC,QAAS,CAAEC,8BAA+B,IAAMC,mBAAqB,oBAGvEC,OAAa,eAAgB,QAEvBC,cACF,SAAAA,EAAaC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAClBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXC,OAAQ,EACRC,YAAa,OACbC,aAAe,GACfC,UAAW,EACXC,QAAS,EACTC,KAAO,GACPC,MAAQ,GACRC,cAAgB,GAChBC,OAAQ,KACRC,qBAAuB,CAACC,UAAY,IACpCC,mBAAqB,EACrBC,YAAc,IAEhBpB,EAAKqB,cAAgBrB,EAAKqB,cAAcC,KAAnBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACrBA,EAAKwB,aAAexB,EAAKwB,aAAaF,KAAlBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACpBA,EAAKyB,eAAiBzB,EAAKyB,eAAeH,KAApBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACtBA,EAAK0B,iBAAmB1B,EAAK0B,iBAAiBJ,KAAtBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACxBA,EAAK2B,UAAY3B,EAAK2B,UAAUL,KAAfrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACjBA,EAAK4B,aAAe5B,EAAK4B,aAAaN,KAAlBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACpBA,EAAK6B,kBAAoB7B,EAAK6B,kBAAkBP,KAAvBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACzBA,EAAK8B,UAAY9B,EAAK8B,UAAUR,KAAfrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KACjBA,EAAK+B,sBAAwB/B,EAAK+B,sBAAsBT,KAA3BrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KAC7BA,EAAKgC,qBAAuBhC,EAAKgC,qBAAqBV,KAA1BrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KAC5BA,EAAKiC,WAAajC,EAAKiC,WAAWX,KAAhBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KA3BAA,4EA+BPkC,GAAG,IAAAC,EACUD,EAAEE,cAAlBC,EADMF,EACNE,KAAMC,EADAH,EACAG,MACdC,QAAQC,IAAIH,EAAMC,GAClBnC,KAAKsC,SAALxC,OAAAyC,EAAA,EAAAzC,CAAA,GAAiBoC,EAAOC,2CAGXJ,GAAG,IAAAS,EACQT,EAAEE,cAAlBC,EADQM,EACRN,KAAMC,EADEK,EACFL,MACdC,QAAQC,IAAIH,EAAMC,GACdJ,EAAEE,cAAcQ,QAClBzC,KAAKI,MAAMM,KAAKgC,KAAKR,GAErBlC,KAAKI,MAAMM,KAAKiC,OAAQ3C,KAAKI,MAAMM,KAAKkC,QAAQV,GAAM,yCAI3CH,GACb/B,KAAKsC,SAAS,CAAEhC,YAAayB,EAAEE,cAAcY,QAAQC,6CAG1CC,GACX3D,EAAS4D,KAAK,qDAAsD,CAClEC,KAAMjE,EAASkE,GACfC,GAAKJ,IAENK,KAAK,SAAUC,GACdjB,QAAQC,IAAIgB,EAASC,KAAKC,UAE3BC,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,yCAKdrE,EAAS4D,KAAK,+CAAgD,CAC5DU,QAAS1E,EAASkE,GAClBS,OAAS,UACTxB,MAAQ,QAETiB,KAAK,SAAUC,GACdlE,EAAemD,SAAS,CAAE3B,MAAQ0C,EAASC,KAAKC,QAAU,WACxDpE,EAAemD,SAAS,CAAE7B,QAAO,MAEnC2B,QAAQC,IAAIgB,EAASC,KAAKC,UAE3BC,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,KAEdzD,KAAKsC,SAAS,CAAE7B,QAAO,gDAIvBrB,EAAS4D,KAAK,0DAA2D,CACvEU,QAAS1E,EAASkE,KAEnBE,KAAK,SAAUC,GACdlE,EAAemD,SAAS,CAAC1B,cAAgByC,EAASC,KAAKC,SACvDpE,EAAemD,SAAS,CAACtB,mBAAqBqC,EAASC,KAAKC,OAAOK,WAEpEJ,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,kDAIKN,EAAIU,EAAM1B,GAC7B/C,EAAS4D,KAAK,6DAA8D,CAC1EC,KAAME,EACNA,GAAKnE,EAASkE,GACdW,KAAOA,EACP1B,MAAQA,IAETiB,KAAK,SAAUC,GACdjB,QAAQC,IAAIgB,EAASC,QAEtBE,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,gDAKd,IAAIhB,EAAU,GACd,CAAC,gBAAgB,kBAAkB,YAAY,cAAc,UAAU,YAAY,cAAcqB,IAAI,SAAAC,GAASC,SAASC,kBAAkBF,GAAK,GAAGtB,QAAUA,EAAQC,KAAKqB,GAAO3B,QAAQC,QACvLnD,EAAgBgF,IAAMF,SAASC,kBAAkB,OAAO,GAAG9B,MAC3DjD,EAAgBiF,YAAcH,SAASC,kBAAkB,eAAe,GAAG9B,MAC3EjD,EAAgBkF,OAASJ,SAASC,kBAAkB,OAAO,GAAG9B,MAC9DjD,EAAgBmF,YAAc5B,EAE9BrD,EAAS4D,KAAK,qDAAsD,CAClEU,QAAS1E,EAASkE,GAClBgB,IAAMF,SAASC,kBAAkB,OAAO,GAAG9B,MAC3CgC,YAAcH,SAASC,kBAAkB,eAAe,GAAG9B,MAC3DiC,OAASJ,SAASC,kBAAkB,OAAO,GAAG9B,MAC9CkC,YAAc5B,IAEfW,KAAK,SAAUC,GACdlE,EAAemD,SAAS,CAAE7B,QAAO,IACjC2B,QAAQC,IAAIgB,EAASC,KAAKC,UAE3BC,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,KAEdzD,KAAKsC,SAAS,CAAE7B,QAAO,kDAGHyC,GAEpB9D,EAAS4D,KAAK,iDAAkD,CAC9DU,QAASR,IAEVE,KAAK,SAAUC,GAEc,OAAzBA,EAASC,KAAKC,QAIfpE,EAAemD,SAAS,CAAExB,qBAAuBuC,EAASC,KAAKC,WAGlEC,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,wCAIJP,GACVxD,OAAa,wBAAyB,CACpC4E,OAAU,aACVC,WAAc,aACdC,OAAU,CAAEC,SAAYvB,EAAIwB,SAAa,UAAWC,MAAU,GAAIC,EAAK,QAASrE,aAAgBP,KAAKI,MAAMG,oDAK7GP,KAAKsC,SAAS,CAAEzB,OACdgE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEC,QAAS,CAAC,CACRC,MAAO,eACPC,WAAW,EACXC,KAAM,WAERC,QAASrF,KAAKsC,SAAS,CAAEzB,OAAQ,QACjCgE,EAAAC,EAAAC,cAAA,4LAKc,IAAAO,EAAAtF,KAElBuF,YAAY,WACVD,EAAK5D,qBACJ,KAEHhC,YAAkB,SAACqC,GACjBK,QAAQC,IAAIN,GACZ,IAAIyD,EAAcF,EAClBnG,EAAiBmG,EAEK,8BAAlBvD,EAAE0D,OAAO5B,MACX7E,EAAW+C,EAAE0D,OAAOnC,KAEpBlE,EAAS4D,KAAK,iDAAkD,CAC9DU,QAAS1E,EAASkE,KAEnBE,KAAK,SAAUC,GAEc,OAAzBA,EAASC,KAAKC,QACjBiC,EAAYlD,SAAS,CAAC9B,UAAW,IACjCgF,EAAYlD,SAAS,CAAC7B,QAAS,IAC/B+E,EAAYlD,SAAS,CAACjC,OAAQ,MAG9BmF,EAAYhE,YACZgE,EAAYlD,SAAS,CAAC9B,UAAW,IAEjCtB,EAAkBmE,EAASC,KAAKC,OAChCiC,EAAYlD,SAAS,CAACjC,OAAQ,OAG/BmD,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,MAIW,gCAAlB1B,EAAE0D,OAAO5B,MAChByB,EAAKlF,MAAMG,aAAewB,EAAE0D,OAAOnC,KAAK/C,aACxCb,OAAa,wBAAyB,CACpC4E,OAAU,aACVC,WAAc,aACdC,OAAU,CAAEkB,SAAU,EAAGhC,QAAW1E,EAASkE,GAAI0B,EAAK,QAAUe,OAAS,WAAYC,KAAO,KAAMjB,MAAO,IAAMpE,aAAgB+E,EAAKlF,MAAMG,iBAGnH,gCAAlBwB,EAAE0D,OAAO5B,OACiB,eAA7B9B,EAAE0D,OAAOnC,KAAKiB,YAChBnC,QAAQC,IAAI,cACZpD,EAAc8C,EAAE0D,OAAOnC,KAAKD,SAASwC,OACC,eAA7B9D,EAAE0D,OAAOnC,KAAKiB,aACvBnC,QAAQC,IAAI,cACZN,EAAE0D,OAAOnC,KAAKD,SAASwC,MAAM/B,IAAK,SAACgC,GAAWR,EAAKlF,MAAMa,YAAYyB,KAAKoD,EAAKC,MAAMC,MAAMC,WAKjGvG,OAAa,sBAAuB,IACpCA,OAAa,uBAAwB,CAAEwG,OAAU,QAASC,MAAS,oDAI3D,IAAAC,EAAApG,KAER,OAAIA,KAAKI,MAAMK,OAEZoE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMqB,YAAY,WACjBxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,WACR2B,EAAAC,EAAAC,cAACC,EAAA,EAAD,mBACAH,EAAAC,EAAAC,cAAA,OAAKuB,MAAO,CAAEC,QAAS,OAAQC,WAAY,SAAUC,cAAe,WAClE5B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAS0B,KAAK,QAAQJ,MAAO,CAAEK,UAAW,UAO9C3G,KAAKI,MAAMC,MACVL,KAAKI,MAAMI,SACJqE,EAAAC,EAAAC,cAAC6B,EAAD,MAGV/B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM1E,YAAaN,KAAKI,MAAME,YAAauG,OACzChC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACA8B,QAAS9G,KAAKkB,cACd6F,SAAqC,aAA3B/G,KAAKI,MAAME,YACrB0G,aAAW,WACXC,KAAK,8CACNpC,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,OACDD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE8B,QAAS9G,KAAKkB,cACd6F,SAAqC,SAA3B/G,KAAKI,MAAME,YACrB0G,aAAW,OACXC,KAAK,kCACNpC,EAAAC,EAAAC,cAACoC,EAAArC,EAAD,OACDD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE8B,QAAS9G,KAAKkB,cACd6F,SAAqC,aAA3B/G,KAAKI,MAAME,YACrB0G,aAAW,WACXI,MAAOpH,KAAKI,MAAMY,mBAAmBqG,WACrCJ,KAAK,sEACNpC,EAAAC,EAAAC,cAACuC,EAAAxC,EAAD,SAIHD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,OAAOmD,YAAY,QAC1BxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,QACR2B,EAAAC,EAAAC,cAACC,EAAA,EAAD,iFACFH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACC7F,EAAeiB,MAAMO,MAAMmD,IAAI,SAACgC,GAAD,OAChCjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEuC,OAAQ1C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAM,KACtBA,KAAK,IACLvC,YAAa2B,EAAK0B,IAClBC,cACE5C,EAAAC,EAAAC,cAAA,OAAKuB,MAAO,CAAEC,QAAS,SACrB1B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ8B,QAAS,WAAOV,EAAK3E,aAAaqE,EAAKpC,SAAU0C,EAAKzE,aAAeyD,KAAK,UAAUsB,KAAK,KAAjG,gGAIHZ,EAAK4B,YACL5B,EAAK3B,YACPU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,KAAK,WACVP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACCc,EAAK/E,UAAU+C,IAAI,SAAC6D,GAAD,OAClB9C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAU+B,UAAQ,GAAlB,IAAqBY,EAArB,SAIJ9C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAW4C,MAAI,WASvB/C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,WAAWmD,YAAY,YAC5BxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,WAAW2E,WAAW,GAC5BhD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE8C,MAAOjD,EAAAC,EAAAC,cAACC,EAAA,EAAD,OAEPH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEuC,OAAQ1C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAM,GAAIqB,IAAK/I,EAASgJ,YACxCC,OAAQ/I,EAAgBsI,KAEvBxI,EAAS0I,WAJZ,IAIyB1I,EAASkJ,YAItCrD,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiBmD,IAAI,iEACjBtD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9C,KAAK,MAAMkG,SAAUpI,KAAKqB,aAAcgH,aAAcnJ,EAAgBgF,IAAKL,KAAK,WAI7FgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKqB,aAAca,KAAK,cAAemG,aAAcnJ,EAAgBiF,YAAcgE,IAAI,qCAG/GtD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOsD,OAAQzD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,aAAb,8EACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,KAAK,WACTP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACC9F,EAAgB6B,UAAU+C,IAAI,SAACgC,GAAD,OAC7BjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAU+B,UAAQ,GAAlB,IAAqBjB,EAArB,UAMNjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQqD,aAAcnJ,EAAgBkF,OAAQlC,KAAK,MAAMkG,SAAUpI,KAAKqB,aAAc8G,IAAI,0DAAaI,YAAY,IACjH1D,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,iBAAd,yFACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,mBAAd,yFACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,aAAd,mIACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,eAAd,mIACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,WAAd,2DACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,aAAd,2DACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,cAAd,mEAIN0C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOsD,OAAQzD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,aAAb,sGACfP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAA0E,IAA1DtJ,EAAgBmF,YAAYzB,QAAQ,iBAAwCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,iBAA1I,yFACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAA4E,IAA5DtJ,EAAgBmF,YAAYzB,QAAQ,mBAA0CwF,SAAUpI,KAAKsB,eAAgBY,KAAK,mBAA5I,yFACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAAsE,IAAtDtJ,EAAgBmF,YAAYzB,QAAQ,aAAoCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,aAAtI,mIACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAAwE,IAAxDtJ,EAAgBmF,YAAYzB,QAAQ,eAAsCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,eAAxI,mIACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAAoE,IAApDtJ,EAAgBmF,YAAYzB,QAAQ,WAAkCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,WAApI,2DACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAAsE,IAAtDtJ,EAAgBmF,YAAYzB,QAAQ,aAAoCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,aAAtI,2DACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUwD,gBAAuE,IAAvDtJ,EAAgBmF,YAAYzB,QAAQ,cAAqCwF,SAAUpI,KAAKsB,eAAgBY,KAAK,cAAvI,iEACJ2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,YAAYsB,KAAK,KAAKI,QAAS,WAAQV,EAAK7E,qBAAzD,sHASVsD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,WAAWmD,YAAY,YAC5BxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,YACR2B,EAAAC,EAAAC,cAACC,EAAA,EAAD,2EACKhF,KAAKI,MAAMQ,cAAckD,IAAI,SAAC2E,GAC3B,MAA0B,SAAtBA,EAAa5E,KAEXgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACKyD,EAAaC,UADlB,iJAEI7D,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACAH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ8B,QAAU,WAAQV,EAAK9D,SAAS,CAAEhC,YAAa,WAAa8F,EAAKxE,sBAAsB6G,EAAaxF,OAAUmC,KAAK,aAA3H,2DAEAP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAW4C,MAAI,KAEO,UAAtBa,EAAa5E,KAEnBgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,iCACQyD,EAAaC,UACnB7D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ8B,QAAU,WAAOV,EAAKtE,WAAW2G,EAAaxF,MAAOmD,EAAK9D,SAAS,CAAEhC,YAAa,iBAAmB8F,EAAKxE,sBAAsB6G,EAAaxF,OAASmC,KAAK,aAAnK,2DAIFP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ8B,QAAU,WAAOV,EAAK9D,SAAS,CAAEhC,YAAa,WAAa8F,EAAKxE,sBAAsB6G,EAAaxF,OAASmC,KAAK,aAAzH,YASjBpF,KAAKI,MAAMU,uBAAyB,GACrC+D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,SAASmD,YAAY,UAC1BxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,UACR2B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAa2D,KAAM9D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiB8B,QAAU,WAAOV,EAAK9D,SAAS,CAAEhC,YAAa,iBAAlF,sEAGAuE,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEuC,OAAQ1C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAM,KACtBA,KAAK,IACLvC,YAAanE,KAAKI,MAAMU,qBAAqB0G,KAE5CxH,KAAKI,MAAMU,qBAAqB4G,YAChC1H,KAAKI,MAAMU,qBAAqBqD,YAClCU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,KAAK,WACVP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACChF,KAAKI,MAAMU,qBAAqBC,UAAU+C,IAAI,SAAC6D,GAAD,OAC7C9C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAU+B,UAAQ,GAAlB,IAAqBY,EAArB,SAIJ9C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKsB,MAAO,CAACC,QAAS,SACpB1B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,IAAII,QAAU,WAAQV,EAAKvE,qBAAqBuE,EAAKhG,MAAMU,qBAAqB4C,QAAS,QAAQ,GAAO0C,EAAK9D,SAAS,CAAEhC,YAAa,cAAmBsI,WAAS,EAACxD,KAAK,YAApL,8CACAP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,IAAII,QAAU,WAAQV,EAAKvE,qBAAqBuE,EAAKhG,MAAMU,qBAAqB4C,QAAS,QAAQ,GAAQ0C,EAAK9D,SAAS,CAAEhC,YAAa,cAAmBsI,WAAS,EAACxD,KAAK,eAArL,8DAIDP,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAEThF,KAAKI,MAAMU,uBAAyB,GACpC+D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,eAAemD,YAAY,gBAChCxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,gBACR2B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAa2D,KAAM9D,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiB8B,QAAU,WAAOV,EAAK9D,SAAS,CAAEhC,YAAa,iBAAlF,sEAGAuE,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEuC,OAAQ1C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAM,KACtBA,KAAK,IACLvC,YAAanE,KAAKI,MAAMU,qBAAqB0G,KAE5CxH,KAAKI,MAAMU,qBAAqB4G,YACjC7C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOsD,OAAQzD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,aAAb,6BACbP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE6D,WAAW,OACXvC,MAAO,CAAEwC,OAAQ,KACjBC,QAAQ,QAEP/I,KAAKI,MAAMa,YAAY6C,IAAI,SAACkF,GAAD,OAC1BnE,EAAAC,EAAAC,cAAA,OAAKuB,MAAO,CAAC2C,eAAgB,QAAUC,gBAAiB,OAASF,EAAQ,WAKjFnE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKsB,MAAO,CAACC,QAAS,SACpB1B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,IAAII,QAAU,WAAQV,EAAKvE,qBAAqBuE,EAAKhG,MAAMU,qBAAqB4C,QAAS,SAAS,GAAO0C,EAAK9D,SAAS,CAAEhC,YAAa,aAAe6I,MAAM,WAAeP,WAAS,EAACxD,KAAK,YAAtM,8CACAP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAK,IAAII,QAAU,WAAQV,EAAKvE,qBAAqBuE,EAAKhG,MAAMU,qBAAqB4C,QAAS,SAAS,GAAQ0C,EAAK9D,SAAS,CAAEhC,YAAa,cAAmBsI,WAAS,EAACxD,KAAK,eAAtL,8DAIDP,EAAAC,EAAAC,cAACC,EAAA,EAAD,OAONH,EAAAC,EAAAC,cAAA,mBAheSqE,IAAMC,WAsepBzC,cACJ,SAAAA,EAAahH,GAAO,IAAA0J,EAAA,OAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAA4G,IAClB0C,EAAAxJ,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8G,GAAAzG,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXE,YAAc,WACdiJ,IAAM,gBACN7I,KAAO,GACPwD,IAAM,GACNC,YAAc,IAGhBmF,EAAKjI,aAAeiI,EAAKjI,aAAaF,KAAlBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAwJ,KACpBA,EAAKpI,cAAgBoI,EAAKpI,cAAcC,KAAnBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAwJ,KACrBA,EAAKhI,eAAiBgI,EAAKhI,eAAeH,KAApBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAwJ,KACtBA,EAAKE,cAAgBF,EAAKE,cAAcrI,KAAnBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAwJ,KAdHA,4EAiBPvH,GAAG,IAAA0H,EACU1H,EAAEE,cAAlBC,EADMuH,EACNvH,KAAMC,EADAsH,EACAtH,MACdC,QAAQC,IAAIH,EAAMC,GAClBnC,KAAKsC,SAALxC,OAAAyC,EAAA,EAAAzC,CAAA,GAAiBoC,EAAOC,2CAGXJ,GAAG,IAAA2H,EACQ3H,EAAEE,cAAlBC,EADQwH,EACRxH,KADQwH,EACFvH,MACVJ,EAAEE,cAAcQ,QAClBzC,KAAKI,MAAMM,KAAKgC,KAAKR,GAErBlC,KAAKI,MAAMM,KAAKiC,OAAQ3C,KAAKI,MAAMM,KAAKkC,QAAQV,GAAM,yCAK3CH,GACb/B,KAAKsC,SAAS,CAAEhC,YAAayB,EAAEE,cAAcY,QAAQC,gDAIrD3D,EAAemD,SAAS,CAAC7B,QAAQ,IACjCrB,EAAS4D,KAAK,+CAAgD,CAC5DU,QAAS1E,EAASkE,GAClBgB,IAAKlE,KAAKI,MAAM8D,IAChBsD,IAAMxI,EAAS2K,KAAKzE,MACpB0E,OAAS3K,EACTkF,YAAcnE,KAAKI,MAAM+D,YACzBC,OAASpE,KAAKI,MAAMmJ,IACpBlF,YAAcrE,KAAKI,MAAMM,KACzBgH,WAAa1I,EAAS0I,aAErBtE,KAAK,SAAUC,GACVA,EAASC,KAAKG,MAChB0F,MAAM9F,EAASC,KAAKG,QAGpBtE,EAAeqC,YACfpC,EAAS4D,KAAK,iDAAkD,CAC9DU,QAAS1E,EAASkE,KAEnBE,KAAK,SAAUC,GACc,OAAzBA,EAASC,KAAKC,OACjB4F,MAAM,UAGNjK,EAAkBmE,EAASC,KAAKC,OAChCpE,EAAemD,SAAS,CAACjC,OAAQ,IACjClB,EAAemD,SAAS,CAAC9B,UAAU,IACnCrB,EAAemD,SAAS,CAAC7B,QAAQ,IACjC2B,QAAQC,IAAInD,MAGbsE,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,QAIjBD,MAAM,SAAUC,GACfrB,QAAQC,IAAIoB,sCAIR,IAAAoG,EAAA7J,KACR,OACN6E,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM8E,WAAY9J,KAAKI,MAAME,aAEzBuE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM9B,GAAG,WAAWmD,YAAY,YAC9BxB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9B,GAAG,WAAW2E,WAAW,GAC5BhD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE8C,MAAOjD,EAAAC,EAAAC,cAACC,EAAA,EAAD,OAEPH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEuC,OAAQ1C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ0B,KAAM,GAAIqB,IAAK/I,EAASgJ,aAEvChJ,EAAS0I,WAHZ,IAGyB1I,EAASkJ,YAItCrD,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiBmD,IAAI,4GACnBtD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO9C,KAAK,MAAMkG,SAAUpI,KAAKqB,aAAcwC,KAAK,OAAO0E,YAAY,SAI3E1D,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKqB,aAAca,KAAK,cAAciG,IAAI,qCAGlEtD,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQ9C,KAAK,MAAMkG,SAAUpI,KAAKqB,aAAc8G,IAAI,2DAClDtD,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,iBAAd,yFACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,mBAAd,yFACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,aAAd,mIACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,eAAd,mIACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,WAAd,2DACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,aAAd,2DACA0C,EAAAC,EAAAC,cAAA,UAAQ5C,MAAM,cAAd,mEAIN0C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOsD,OAAQzD,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,aAAb,sGACfP,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,iBAA9C,yFACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,mBAA9C,yFACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,aAA9C,mIACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,eAA9C,mIACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,WAA9C,2DACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,aAA9C,2DACA2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUoD,SAAUpI,KAAKsB,eAAgBY,KAAK,cAA9C,iEACH2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,KAAK,YAAY0B,QAAS,WAAQ+C,EAAKL,iBAAoB9C,KAAK,MAAxE,6EAlIkB0C,IAAMC,WAgJnCU,IAASC,OAAOnF,EAAAC,EAAAC,cAACpF,EAAD,MAAaqE,SAASiG,eAAe","file":"static/js/main.35fb3550.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { View, Panel, PanelHeader, Group, Cell, Epic, Tabbar, TabbarItem,\nList, Button , Avatar , PanelHeaderContent, PanelHeaderButton, PanelHeaderSimple,\nFormLayoutGroup, Select, FormLayout , Root , Textarea, Input, Checkbox, Header,\nSpinner, TabsItem, HorizontalScroll, Tabs, Div, PanelHeaderBack, Alert, Separator, Gallery}  from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport axios from 'axios';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';   \nimport * as connect from '@vkontakte/vkui-connect'; \n\nlet user_obj = {};\nlet user_groups = [];\nlet user_global_api = {};\nlet parent_context = {};\n\nconst instance = axios.create({\n  headers: { 'Access-Control-Allow-Origin': \"*\" , \"X-Requested-With\" : \"XMLHttpRequest\"}\n});\n\nconnect.send(\"VKWebAppInit\", {});\n\nclass Example extends React.Component {\n    constructor (props) {\n      super(props);\n  \n      this.state = {\n        ready : false,\n        activeStory: 'feed', \n        access_token : \"\",\n        register : true,\n        loader : true,\n        pref : [],\n        users : [],\n        notifications : [],\n        popout: null,\n        current_notification : {interests : []},\n        notification_count : 0,\n        user_photos : []\n      };\n      this.onStoryChange = this.onStoryChange.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n      this.handleCheckbox = this.handleCheckbox.bind(this); \n      this.update_user_data = this.update_user_data.bind(this); \n      this.get_users = this.get_users.bind(this);  \n      this.start_dialog = this.start_dialog.bind(this);  \n      this.get_notifications = this.get_notifications.bind(this);  \n      this.openModal = this.openModal.bind(this); \n      this.get_notification_user = this.get_notification_user.bind(this);\n      this.resolve_notification = this.resolve_notification.bind(this);\n      this.get_photos = this.get_photos.bind(this);\n    }\n    \n\n    handleChange(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      this.setState({ [name]: value });\n    }\n\n    handleCheckbox(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      if (e.currentTarget.checked){\n        this.state.pref.push(name);\n      }else{\n        this.state.pref.splice( this.state.pref.indexOf(name),1 );\n      }\n    }\n    \n    onStoryChange (e) {\n      this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    start_dialog(id_to){\n      instance.post('https://kolosyamba.pythonanywhere.com/start_dialog', {\n        from: user_obj.id,\n        to : id_to\n      })\n      .then(function (response) {\n        console.log(response.data.result)\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    get_users(){\n      instance.post('https://kolosyamba.pythonanywhere.com/browse', {\n        user_id: user_obj.id,\n        filter : \"default\",\n        value : \"hoy\"\n      })\n      .then(function (response) {\n        parent_context.setState({ users : response.data.result }, () => {\n          parent_context.setState({ loader:false })\n      });\n        console.log(response.data.result)\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n      this.setState({ loader:true })\n    }\n\n    get_notifications(){\n      instance.post('https://kolosyamba.pythonanywhere.com/get_notifications', {\n        user_id: user_obj.id,\n      })\n      .then(function (response) {\n        parent_context.setState({notifications : response.data.result})\n        parent_context.setState({notification_count : response.data.result.length})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    resolve_notification(to ,type, value){\n      instance.post('https://kolosyamba.pythonanywhere.com/resolve_notification', {\n        from: to,\n        to : user_obj.id,\n        type : type,\n        value : value\n      })\n      .then(function (response) {\n        console.log(response.data)\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    update_user_data(){\n      let checked = [];\n      [\"male-straight\",\"female-straight\",\"male-homo\",\"female-homo\",\"male-bi\",\"female-bi\",\"non-binary\"].map(val => { document.getElementsByName(val)[0].checked ? checked.push(val) : console.log() })\n      user_global_api.age = document.getElementsByName(\"age\")[0].value;\n      user_global_api.description = document.getElementsByName(\"description\")[0].value;\n      user_global_api.gender = document.getElementsByName(\"sex\")[0].value;\n      user_global_api.preferences = checked;\n\n      instance.post('https://kolosyamba.pythonanywhere.com/edit_profile', {\n        user_id: user_obj.id,\n        age : document.getElementsByName(\"age\")[0].value,\n        description : document.getElementsByName(\"description\")[0].value,\n        gender : document.getElementsByName(\"sex\")[0].value,\n        preferences : checked\n      })\n      .then(function (response) {\n        parent_context.setState({ loader:false })\n        console.log(response.data.result)\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n      this.setState({ loader:true })\n    }\n\n    get_notification_user(id){\n\n      instance.post('https://kolosyamba.pythonanywhere.com/get_user', {\n        user_id: id,\n      })\n      .then(function (response) {\n        // console.log(response.data.result)\n       if (response.data.result === \"no\"){\n\n       }\n       else {\n          parent_context.setState({ current_notification : response.data.result})\n      };\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    get_photos (id) {\n      connect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": \"photos.get\",\n        \"request_id\": \"photos.get\",\n        \"params\": { \"owner_id\": id, \"album_id\" : \"profile\", \"count\" : 10, \"v\": \"5.101\", \"access_token\": this.state.access_token }\n      });\n    }\n\n    openModal () {\n      this.setState({ popout:\n        <Alert\n          actions={[{\n            title: 'Ок',\n            autoclose: true,\n            mode: 'cancel'\n          }]}\n          onClose={this.setState({ popout: null })}>\n          <h2>Уведомление отправлено</h2>\n        </Alert>\n      });\n    }\n\n    componentDidMount() {\n\n      setInterval(() => {\n        this.get_notifications();\n      }, 3000);\n\n      connect.subscribe((e) => {\n        console.log(e);\n        let curret_this = this;\n        parent_context = this;\n\n        if (e.detail.type === \"VKWebAppGetUserInfoResult\") {\n          user_obj = e.detail.data;\n                    \n          instance.post('https://kolosyamba.pythonanywhere.com/get_user', {\n            user_id: user_obj.id,\n          })\n          .then(function (response) {\n            // console.log(response.data.result)\n           if (response.data.result === \"no\"){\n            curret_this.setState({register : true})\n            curret_this.setState({loader : false})\n            curret_this.setState({ready : true});\n           }\n           else {\n            curret_this.get_users()\n            curret_this.setState({register : false});\n            // curret_this.setState({loader : false});\n            user_global_api = response.data.result;\n            curret_this.setState({ready : true});\n          };\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n\n        }\n        else if (e.detail.type === \"VKWebAppAccessTokenReceived\") {\n          this.state.access_token = e.detail.data.access_token;\n          connect.send(\"VKWebAppCallAPIMethod\", {\n            \"method\": \"groups.get\",\n            \"request_id\": \"groups.get\",\n            \"params\": { extended: 1, \"user_id\": user_obj.id, \"v\": \"5.101\",  fields : \"activity\", lang : \"ru\", count: 1000, \"access_token\": this.state.access_token }\n          });\n        }\n        else if (e.detail.type === \"VKWebAppCallAPIMethodResult\") {\n          if (e.detail.data.request_id === \"groups.get\") {\n            console.log(\"GOT GROUPS\")\n            user_groups = e.detail.data.response.items;\n          } else if (e.detail.data.request_id === \"photos.get\") {\n            console.log(\"GOT PHOTOS\")\n            e.detail.data.response.items.map( (item) => { this.state.user_photos.push(item.sizes.pop().url) } )\n          }\n        }\n      })\n\n      connect.send(\"VKWebAppGetUserInfo\", {});\n      connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7403106, \"scope\": \"groups,friends\"});\n    }\n  \n  \n    render () {\n\n      if (this.state.loader){\n        return (\n         <View activePanel=\"spinner\">\n          <Panel id=\"spinner\">\n            <PanelHeader>Loading...</PanelHeader>\n            <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\n              <Spinner size=\"large\" style={{ marginTop: 100 }} />\n            </div>\n          </Panel>\n        </View>)\n      }\n\n\n      if (this.state.ready){\n        if(this.state.register) { \n          return (<RegisterForm  />)\n        } else { \n          return (\n        <Epic activeStory={this.state.activeStory} tabbar={\n          <Tabbar>\n              <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'discover'}\n              data-story=\"discover\"\n              text=\"Профиль\"\n            ><Icon24Settings   /></TabbarItem>\n            <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'feed'}\n              data-story=\"feed\"\n              text=\"Лента\"\n            ><Icon28AddOutline /></TabbarItem>\n            <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'messages'}\n              data-story=\"messages\"\n              label={this.state.notification_count.toString()}\n              text=\"Уведомления\"\n            ><Icon28Newsfeed /></TabbarItem>\n          </Tabbar>\n        }>\n\n          <View id=\"feed\" activePanel=\"feed\">\n            <Panel id=\"feed\">\n              <PanelHeader>Пользователи</PanelHeader>\n            <Group>\n              <List>\n              {parent_context.state.users.map((item) =>\n              <Div>\n                  <Cell\n                    before={<Avatar size={72} />}\n                    size=\"l\"\n                    description={item.geo}\n                    bottomContent={\n                      <div style={{ display: 'flex' }}>\n                        <Button onClick={() => {this.start_dialog(item.user_id); this.openModal() }} mode=\"outline\" size=\"m\">Познакомиться😉</Button>\n                      </div>\n                    }\n                  >\n                    {item.first_name}</Cell>\n                    {item.description}\n                   <Tabs mode=\"buttons\">\n                    <HorizontalScroll>\n                    {item.interests.map((interest) =>\n                      <TabsItem selected> {interest} </TabsItem>\n                    )}\n                    </HorizontalScroll>\n                  </Tabs>\n                  <Separator wide />\n                </Div>\n                \n                  )}\n              </List>\n            </Group>\n            </Panel>\n          </View>\n\n          <View id=\"discover\" activePanel=\"discover\">\n              <Panel id=\"discover\" separator={false}>\n                  <PanelHeaderSimple\n                    right={<PanelHeaderButton></PanelHeaderButton>}\n                  >\n                    <PanelHeaderContent\n                      before={<Avatar size={48} src={user_obj.photo_100} />}\n                      status={user_global_api.geo}\n                    >\n                      {user_obj.first_name} {user_obj.last_name}\n                    </PanelHeaderContent>\n                  </PanelHeaderSimple>\n\n                <Group>\n\n                    <FormLayout>\n                      <FormLayoutGroup top=\"Ваш возраст\">\n                          <Input name=\"age\" onChange={this.handleChange} defaultValue={user_global_api.age} type=\"text\"/> \n                      </FormLayoutGroup>\n                    </FormLayout>\n\n                    <FormLayout>\n                        <Textarea onChange={this.handleChange} name=\"description\"  defaultValue={user_global_api.description}  top=\"О себе\"/>\n                    </FormLayout>\n\n                    <Group header={<Header mode=\"secondary\">Ваши интересы</Header>}>\n                      <Tabs mode=\"buttons\">\n                        <HorizontalScroll>\n                        {user_global_api.interests.map((item) =>\n                          <TabsItem selected> {item} </TabsItem>\n                        )}\n                        </HorizontalScroll>\n                      </Tabs>\n                    </Group>\n\n                    <FormLayout>\n                      <Select defaultValue={user_global_api.gender} name=\"sex\" onChange={this.handleChange} top=\"Ваш гендер\" placeholder=\"\">\n                        <option value=\"male-straight\">Мужчина Натурал</option>\n                        <option value=\"female-straight\">Женщина Натурал</option>\n                        <option value=\"male-homo\">Мужчина Гомосексуалист</option>\n                        <option value=\"female-homo\">Женщина Гомосексуалист</option>\n                        <option value=\"male-bi\">Мужчина Би</option>\n                        <option value=\"female-bi\">Женщина Би</option>\n                        <option value=\"non-binary\">Не бинарный</option>\n                      </Select>\n                  </FormLayout>\n\n                  <Group header={<Header mode=\"secondary\">Ваши предпочтения</Header>}>\n                  <FormLayout>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"male-straight\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"male-straight\">Мужчина Натурал</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"female-straight\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"female-straight\">Женщина Натурал</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"male-homo\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"male-homo\">Мужчина Гомосексуалист</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"female-homo\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"female-homo\">Женщина Гомосексуалист</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"male-bi\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"male-bi\">Мужчина Би</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"female-bi\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"female-bi\">Женщина Би</Checkbox>\n                      <Checkbox defaultChecked={user_global_api.preferences.indexOf(\"non-binary\") === -1 ? false : true} onChange={this.handleCheckbox} name=\"non-binary\">Не бинарный</Checkbox>\n                  <Button mode=\"secondary\" size=\"xl\" onClick={() => { this.update_user_data() }} >Сохранить изменения</Button>\n                  </FormLayout>\n                  </Group>\n\n                </Group>\n              </Panel>\n        </View>\n\n\n        <View id=\"messages\" activePanel=\"messages\">\n            <Panel id=\"messages\">\n              <PanelHeader>Уведомления</PanelHeader>\n                  {this.state.notifications.map((notification) => {\n                      if (notification.type === \"init\"){\n                            return (\n                            <Div>\n                                {notification.from_name} хочет с вами познакомиться\n                                <Div>\n                                <Button onClick={ () => { this.setState({ activeStory: \"notify\" }); this.get_notification_user(notification.from) } } mode=\"secondary\">Подробнее</Button>\n                                </Div>\n                                <Separator wide />\n                            </Div>)\n                      }else if (notification.type === \"photo\"){\n                          return (\n                          <Div>\n                            Фото {notification.from_name}\n                            <Button onClick={ () => {this.get_photos(notification.from); this.setState({ activeStory: \"notify_photo\" }); this.get_notification_user(notification.from)} } mode=\"secondary\">Подробнее</Button>\n                          </Div>)\n                      }else {\n                        return (\n                          <Div>\n                            <Button onClick={ () => {this.setState({ activeStory: \"notify\" }); this.get_notification_user(notification.from)} } mode=\"secondary\">LEL</Button>\n                          </Div>)\n                      }\n                    }\n                  )}\n            </Panel>\n          </View>\n        \n        \n          {this.state.current_notification !== {} ? \n          <View id=\"notify\" activePanel=\"notify\">\n              <Panel id=\"notify\">\n                <PanelHeader left={<PanelHeaderBack onClick={ () => {this.setState({ activeStory: \"messages\" });}}  />}>\n                      Уведомление\n                </PanelHeader>\n                <Div>\n                  <Cell\n                    before={<Avatar size={72} />}\n                    size=\"l\"\n                    description={this.state.current_notification.geo}\n                  >\n                    {this.state.current_notification.first_name}</Cell>\n                    {this.state.current_notification.description}\n                   <Tabs mode=\"buttons\">\n                    <HorizontalScroll>\n                    {this.state.current_notification.interests.map((interest) =>\n                      <TabsItem selected> {interest} </TabsItem>\n                    )}\n                    </HorizontalScroll>\n                  </Tabs>\n                  <Div style={{display: 'flex'}}>\n                    <Button size=\"l\" onClick={ () => { this.resolve_notification(this.state.current_notification.user_id, \"init\", true); this.setState({ activeStory: \"messages\" }) } }  stretched mode=\"commerce\">Принять</Button>\n                    <Button size=\"l\" onClick={ () => { this.resolve_notification(this.state.current_notification.user_id, \"init\", false); this.setState({ activeStory: \"messages\" }) } }  stretched mode=\"destructive\">Отклонить</Button>\n                  </Div>\n                </Div>\n              </Panel>\n         </View> : <Div></Div>}\n\n         {this.state.current_notification !== {} ? \n          <View id=\"notify_photo\" activePanel=\"notify_photo\">\n              <Panel id=\"notify_photo\">\n                <PanelHeader left={<PanelHeaderBack onClick={ () => {this.setState({ activeStory: \"messages\" });}}  />}>\n                      Уведомление\n                </PanelHeader>\n                <Div>\n                  <Cell\n                    before={<Avatar size={72} />}\n                    size=\"l\"\n                    description={this.state.current_notification.geo}\n                  >\n                    {this.state.current_notification.first_name}</Cell>\n                    <Group header={<Header mode=\"secondary\">Фото</Header>}>\n                      <Gallery\n                        slideWidth=\"100%\"\n                        style={{ height: 400 }}\n                        bullets=\"dark\"\n                      >\n                        {this.state.user_photos.map((photo) => (\n                          <div style={{backgroundSize: \"cover\" , backgroundImage: \"url(\" + photo + \")\"}}>\n                          </div>\n                        ))}\n                      </Gallery>\n                    </Group>\n                  <Div style={{display: 'flex'}}>\n                    <Button size=\"l\" onClick={ () => { this.resolve_notification(this.state.current_notification.user_id, \"photo\", true); this.setState({ activeStory: \"messages\" }); alert(\"gotovo\") } }  stretched mode=\"commerce\">Принять</Button>\n                    <Button size=\"l\" onClick={ () => { this.resolve_notification(this.state.current_notification.user_id, \"photo\", false); this.setState({ activeStory: \"messages\" }) } }  stretched mode=\"destructive\">Отклонить</Button>\n                  </Div>\n                </Div>\n              </Panel>\n         </View> : <Div></Div>}\n          \n        </Epic>\n      )\n    }\n    \n    } else{\n      return <div />\n    }\n  }\n}\n\n\n  class RegisterForm extends React.Component {\n    constructor (props) {\n      super(props);\n  \n      this.state = {\n        activeStory : \"discover\",\n        sex : \"male-straight\",\n        pref : [],\n        age : 18,\n        description : \"\"\n      };\n      // this.handleChange_sex = this.handleChange_sex.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n      this.onStoryChange = this.onStoryChange.bind(this);\n      this.handleCheckbox = this.handleCheckbox.bind(this); \n      this.register_user = this.register_user.bind(this);\n    } \n\n    handleChange(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      this.setState({ [name]: value });\n    }\n\n    handleCheckbox(e) {\n      const { name, value } = e.currentTarget;\n      if (e.currentTarget.checked){\n        this.state.pref.push(name);\n      }else{\n        this.state.pref.splice( this.state.pref.indexOf(name),1 );\n      }\n    }\n\n\n    onStoryChange (e) {\n      this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    register_user() {\n      parent_context.setState({loader: true})\n      instance.post('https://kolosyamba.pythonanywhere.com/signup', {\n        user_id: user_obj.id,\n        age: this.state.age,\n        geo : user_obj.city.title,\n        groups : user_groups,\n        description : this.state.description,\n        gender : this.state.sex,\n        preferences : this.state.pref,\n        first_name : user_obj.first_name\n      })\n        .then(function (response) {\n          if (response.data.error) {\n            alert(response.data.error);\n          }\n          else{\n            parent_context.get_users()\n            instance.post('https://kolosyamba.pythonanywhere.com/get_user', {\n              user_id: user_obj.id,\n            })\n            .then(function (response) {\n             if (response.data.result === \"no\"){\n              alert(\"wtf??\")\n             }\n             else {\n              user_global_api = response.data.result;\n              parent_context.setState({ready : true});\n              parent_context.setState({register: false})\n              parent_context.setState({loader: false})\n              console.log(user_global_api);\n            };\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  \n    render () {\n      return (\n<Root activeView={this.state.activeStory}>\n\n    <View id=\"discover\" activePanel=\"discover\">\n      <Panel id=\"discover\" separator={false}>\n          <PanelHeaderSimple\n            right={<PanelHeaderButton></PanelHeaderButton>}\n          >\n            <PanelHeaderContent\n              before={<Avatar size={48} src={user_obj.photo_100} />}\n            >\n              {user_obj.first_name} {user_obj.last_name}\n            </PanelHeaderContent>\n          </PanelHeaderSimple>\n\n        <Group>\n\n            <FormLayout>\n              <FormLayoutGroup top=\"Введите ваш возраст\">\n                <Input name=\"age\" onChange={this.handleChange} type=\"text\" placeholder=\"18\" />\n              </FormLayoutGroup>\n            </FormLayout>\n\n            <FormLayout>\n                <Textarea onChange={this.handleChange} name=\"description\" top=\"О себе\" />\n            </FormLayout>\n\n            <FormLayout>\n              <Select name=\"sex\" onChange={this.handleChange} top=\"Ваш гендер\" >\n                <option value=\"male-straight\">Мужчина Натурал</option>\n                <option value=\"female-straight\">Женщина Натурал</option>\n                <option value=\"male-homo\">Мужчина Гомосексуалист</option>\n                <option value=\"female-homo\">Женщина Гомосексуалист</option>\n                <option value=\"male-bi\">Мужчина Би</option>\n                <option value=\"female-bi\">Женщина Би</option>\n                <option value=\"non-binary\">Не бинарный</option>\n              </Select>\n          </FormLayout>\n\n          <Group header={<Header mode=\"secondary\">Ваши предпочтения</Header>}>\n          <FormLayout>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-straight\">Мужчина Натурал</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-straight\">Женщина Натурал</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-homo\">Мужчина Гомосексуалист</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-homo\">Женщина Гомосексуалист</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-bi\">Мужчина Би</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-bi\">Женщина Би</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"non-binary\">Не бинарный</Checkbox>\n           <Button mode=\"secondary\" onClick={() => { this.register_user(); }} size=\"xl\">Продолжить</Button>\n          </FormLayout>\n          </Group>\n\n        </Group>\n       </Panel>\n    </View>\n\n</Root>\n      )\n    }\n  }\n\n\nReactDOM.render(<Example />, document.getElementById('root'));"],"sourceRoot":""}