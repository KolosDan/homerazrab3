{"version":3,"sources":["index.js"],"names":["user_obj","user_groups","user_global_api","parent_context","instance","axios","create","headers","Access-Control-Allow-Origin","X-Requested-With","connect","Example","props","_this","Object","_home_kls_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_kls_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_kls_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","ready","activeStory","access_token","register","loader","onStoryChange","bind","_home_kls_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleChange","handleCheckbox","update_user_data","e","_e$currentTarget","currentTarget","name","value","console","log","setState","_home_kls_homerazrab3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_e$currentTarget2","checked","pref","push","splice","indexOf","dataset","story","document","getElementsByName","_this2","curret_this","detail","type","data","post","user_id","id","then","response","result","catch","error","method","request_id","params","extended","v","fields","lang","count","items","app_id","scope","_this3","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_9__","activePanel","style","display","alignItems","flexDirection","size","marginTop","RegisterForm","tabbar","onClick","selected","data-story","text","_vkontakte_icons_dist_24_settings__WEBPACK_IMPORTED_MODULE_12___default","_vkontakte_icons_dist_28_add_outline__WEBPACK_IMPORTED_MODULE_13___default","label","_vkontakte_icons_dist_28_newsfeed__WEBPACK_IMPORTED_MODULE_14___default","before","description","bottomContent","separator","right","src","photo_100","status","geo","first_name","last_name","top","onChange","age","header","mode","interests","map","item","defaultValue","gender","placeholder","preferences","React","Component","_this4","sex","register_user","_e$currentTarget3","_e$currentTarget4","city","title","groups","alert","_this5","activeView","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d285efc2.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { View, Panel, PanelHeader, Group, Cell, Epic, Tabbar, TabbarItem,\nList, Button , Avatar , PanelHeaderContent, PanelHeaderButton, PanelHeaderSimple,\nFormLayoutGroup, Select, FormLayout , Root , Textarea, Input, Checkbox, Header,\nSpinner, TabsItem, HorizontalScroll, Tabs}  from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport axios from 'axios';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';   \nimport * as connect from '@vkontakte/vkui-connect'; \n\nlet user_obj = {};\nlet user_groups = [];\nlet user_global_api = {};\nlet parent_context = {};\n\nconst instance = axios.create({\n  headers: { 'Access-Control-Allow-Origin': \"*\" , \"X-Requested-With\" : \"XMLHttpRequest\"}\n});\n\nconnect.send(\"VKWebAppInit\", {});\n\nclass Example extends React.Component {\n    constructor (props) {\n      super(props);\n  \n      this.state = {\n        ready : false,\n        activeStory: 'feed', \n        access_token : \"\",\n        register : true,\n        loader : true\n      };\n      this.onStoryChange = this.onStoryChange.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n      this.handleCheckbox = this.handleCheckbox.bind(this); \n      this.update_user_data = this.update_user_data.bind(this); \n    }\n\n    handleChange(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      this.setState({ [name]: value });\n    }\n\n    handleCheckbox(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      if (e.currentTarget.checked){\n        this.state.pref.push(name);\n      }else{\n        this.state.pref.splice( this.state.pref.indexOf(name),1 );\n      }\n    }\n    \n    onStoryChange (e) {\n      this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    update_user_data(){\n      console.log(document.getElementsByName(\"age\")[0].value)\n      // instance.post('https://cors-anywhere.herokuapp.com/http://35.228.42.210:5000/edit_profile', {\n      //   user_id: user_obj.id,\n      //   age : document.getElementsByName(\"age\")[0].value,\n\n      // })\n      // .then(function (response) {\n      //   // console.log(response.data.result)\n\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n    }\n\n    componentDidMount() {\n      connect.subscribe((e) => {\n        console.log(e);\n        let curret_this = this;\n        parent_context = this;\n\n        if (e.detail.type === \"VKWebAppGetUserInfoResult\") {\n          user_obj = e.detail.data;\n                    \n          instance.post('https://cors-anywhere.herokuapp.com/http://35.228.42.210:5000/get_user', {\n            user_id: user_obj.id,\n          })\n          .then(function (response) {\n            // console.log(response.data.result)\n           if (response.data.result == \"no\"){\n            curret_this.setState({register : true})\n            curret_this.setState({loader : false})\n            curret_this.setState({ready : true});\n           }\n           else {\n            curret_this.setState({register : false});\n            curret_this.setState({loader : false})\n            user_global_api = response.data.result;\n            curret_this.setState({ready : true});\n          };\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n\n        }\n        else if (e.detail.type === \"VKWebAppAccessTokenReceived\") {\n          this.state.access_token = e.detail.data.access_token;\n          connect.send(\"VKWebAppCallAPIMethod\", {\n            \"method\": \"groups.get\",\n            \"request_id\": \"groups.get\",\n            \"params\": { extended: 1, \"user_id\": user_obj.id, \"v\": \"5.101\",  fields : \"activity\", lang : \"ru\", count: 1000, \"access_token\": this.state.access_token }\n          });\n        }\n        else if (e.detail.type === \"VKWebAppCallAPIMethodResult\") {\n          if (e.detail.data.request_id === \"groups.get\") {\n            user_groups = e.detail.data.response.items;\n          }\n        }\n      })\n\n      connect.send(\"VKWebAppGetUserInfo\", {});\n      connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7403106, \"scope\": \"groups,friends\" });\n    }\n  \n  \n    render () {\n\n      if (this.state.loader){\n        return (\n         <View activePanel=\"spinner\">\n          <Panel id=\"spinner\">\n            <PanelHeader>Loading...</PanelHeader>\n            <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\n              <Spinner size=\"large\" style={{ marginTop: 100 }} />\n            </div>\n          </Panel>\n        </View>)\n      }\n\n\n      if (this.state.ready){\n        if(this.state.register) { \n          return (<RegisterForm  />)\n        } else { \n          return (\n        <Epic activeStory={this.state.activeStory} tabbar={\n          <Tabbar>\n              <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'discover'}\n              data-story=\"discover\"\n              text=\"Профиль\"\n            ><Icon24Settings   /></TabbarItem>\n            <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'feed'}\n              data-story=\"feed\"\n              text=\"Лента\"\n            ><Icon28AddOutline /></TabbarItem>\n            <TabbarItem\n              onClick={this.onStoryChange}\n              selected={this.state.activeStory === 'messages'}\n              data-story=\"messages\"\n              label=\"12\"\n              text=\"Уведомления\"\n            ><Icon28Newsfeed /></TabbarItem>\n          </Tabbar>\n        }>\n\n          <View id=\"feed\" activePanel=\"feed\">\n            <Panel id=\"feed\">\n              <PanelHeader>Категории</PanelHeader>\n            <Group>\n              <List>\n                <Cell\n                  before={<Avatar size={72} />}\n                  size=\"l\"\n                  description=\"Че дескрипшон?\"\n                  bottomContent={\n                    <div style={{ display: 'flex' }}>\n                      <Button size=\"m\">Подробнее</Button>\n                    </div>\n                  }\n                >\n                  Экономика</Cell>\n                <Cell\n                  before={<Avatar size={72} />}\n                  size=\"l\"\n                  description=\"Че дескрипшон?\"\n                  bottomContent={\n                    <div style={{ display: 'flex' }}>\n                      <Button onClick={() => { this.setState({ activeStory: 'messages' }) }} size=\"m\">Подробнее</Button>\n                    </div>\n                  }\n                >\n                  Физика</Cell>\n                <Cell\n                  before={<Avatar size={72} />}\n                  size=\"l\"\n                  description=\"Че дескрипшон?\"\n                  bottomContent={\n                    <div style={{ display: 'flex' }}>\n                      <Button  size=\"m\">Подробнее</Button>\n                    </div>\n                  }\n                >\n                  Химия</Cell>\n              </List>\n            </Group>\n            </Panel>\n          </View>\n\n          <View id=\"discover\" activePanel=\"discover\">\n              <Panel id=\"discover\" separator={false}>\n                  <PanelHeaderSimple\n                    right={<PanelHeaderButton></PanelHeaderButton>}\n                  >\n                    <PanelHeaderContent\n                      before={<Avatar size={48} src={user_obj.photo_100} />}\n                      status={user_global_api.geo}\n                    >\n                      {user_obj.first_name} {user_obj.last_name}\n                    </PanelHeaderContent>\n                  </PanelHeaderSimple>\n\n                <Group>\n\n                    <FormLayout>\n                      <FormLayoutGroup top=\"Ваш возраст\">\n                          <Input name=\"age\" onChange={this.handleChange} value={user_global_api.age} type=\"text\"/> \n                      </FormLayoutGroup>\n                    </FormLayout>\n\n                    <FormLayout>\n                        <Textarea onChange={this.handleChange} name=\"description\"  value={user_global_api.description}  top=\"О себе\"/>\n                    </FormLayout>\n\n                    <Group header={<Header mode=\"secondary\">Ваши интересы</Header>}>\n                      <Tabs mode=\"buttons\">\n                        <HorizontalScroll>\n                        {user_global_api.interests.map((item) =>\n                          <TabsItem selected> {item} </TabsItem>\n                        )}\n                        </HorizontalScroll>\n                      </Tabs>\n                    </Group>\n\n                    <FormLayout>\n                      <Select defaultValue={user_global_api.gender} name=\"sex\" onChange={this.handleChange} top=\"Ваш гендер\" placeholder=\"\">\n                        <option value=\"male-straight\">Мужчина Натурал</option>\n                        <option value=\"female-straight\">Женщина Натурал</option>\n                        <option value=\"male-homo\">Мужчина Гомосексуалист</option>\n                        <option value=\"female-homo\">Женщина Гомосексуалист</option>\n                        <option value=\"male-bi\">Мужчина Би</option>\n                        <option value=\"female-bi\">Женщина Би</option>\n                        <option value=\"non-binary\">Не бинарный</option>\n                      </Select>\n                  </FormLayout>\n\n                  <Group header={<Header mode=\"secondary\">Ваши предпочтения</Header>}>\n                  <FormLayout>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"male-straight\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"male-straight\">Мужчина Натурал</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"female-straight\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"female-straight\">Женщина Натурал</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"male-homo\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"male-homo\">Мужчина Гомосексуалист</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"female-homo\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"female-homo\">Женщина Гомосексуалист</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"male-bi\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"male-bi\">Мужчина Би</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"female-bi\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"female-bi\">Женщина Би</Checkbox>\n                      <Checkbox checked={user_global_api.preferences.indexOf(\"non-binary\") == -1 ? false : true} onChange={this.handleCheckbox} name=\"non-binary\">Не бинарный</Checkbox>\n                  <Button mode=\"secondary\" size=\"xl\" onClick={() => { this.update_user_data() }} >Сохранить изменения</Button>\n                  </FormLayout>\n                  </Group>\n\n                </Group>\n              </Panel>\n        </View>\n          \n        </Epic>\n      )\n    }\n    \n    } else{\n      return <div />\n    }\n  }\n}\n\n\n  class RegisterForm extends React.Component {\n    constructor (props) {\n      super(props);\n  \n      this.state = {\n        activeStory : \"discover\",\n        sex : \"male-straight\",\n        pref : [],\n        age : 18,\n        description : \"\"\n      };\n      // this.handleChange_sex = this.handleChange_sex.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n      this.onStoryChange = this.onStoryChange.bind(this);\n      this.handleCheckbox = this.handleCheckbox.bind(this); \n      this.register_user = this.register_user.bind(this);\n    } \n\n    handleChange(e) {\n      const { name, value } = e.currentTarget;\n      console.log(name, value );\n      this.setState({ [name]: value });\n    }\n\n    handleCheckbox(e) {\n      const { name, value } = e.currentTarget;\n      if (e.currentTarget.checked){\n        this.state.pref.push(name);\n      }else{\n        this.state.pref.splice( this.state.pref.indexOf(name),1 );\n      }\n    }\n\n\n    onStoryChange (e) {\n      this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    register_user() {\n      parent_context.setState({loader: true})\n      instance.post('https://cors-anywhere.herokuapp.com/http://35.228.42.210:5000/signup', {\n        user_id: user_obj.id,\n        age: this.state.age,\n        geo : user_obj.city.title,\n        groups : user_groups,\n        description : this.state.description,\n        gender : this.state.sex,\n        preferences : this.state.pref\n      })\n        .then(function (response) {\n          if (response.data.error) {\n            alert(response.data.error);\n          }\n          else{\n            instance.post('https://cors-anywhere.herokuapp.com/http://35.228.42.210:5000/get_user', {\n              user_id: user_obj.id,\n            })\n            .then(function (response) {\n             if (response.data.result == \"no\"){\n              alert(\"wtf??\")\n             }\n             else {\n              user_global_api = response.data.result;\n              parent_context.setState({ready : true});\n              parent_context.setState({register: false})\n              parent_context.setState({loader: false})\n              console.log(user_global_api);\n            };\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  \n    render () {\n      return (\n<Root activeView={this.state.activeStory}>\n\n    <View id=\"discover\" activePanel=\"discover\">\n      <Panel id=\"discover\" separator={false}>\n          <PanelHeaderSimple\n            right={<PanelHeaderButton></PanelHeaderButton>}\n          >\n            <PanelHeaderContent\n              before={<Avatar size={48} src={user_obj.photo_100} />}\n            >\n              {user_obj.first_name} {user_obj.last_name}\n            </PanelHeaderContent>\n          </PanelHeaderSimple>\n\n        <Group>\n\n            <FormLayout>\n              <FormLayoutGroup top=\"Введите ваш возраст\">\n                <Input name=\"age\" onChange={this.handleChange} type=\"text\" placeholder=\"18\" />\n              </FormLayoutGroup>\n            </FormLayout>\n\n            <FormLayout>\n                <Textarea onChange={this.handleChange} name=\"description\" top=\"О себе\" />\n            </FormLayout>\n\n            <FormLayout>\n              <Select name=\"sex\" onChange={this.handleChange} top=\"Ваш гендер\" >\n                <option value=\"male-straight\">Мужчина Натурал</option>\n                <option value=\"female-straight\">Женщина Натурал</option>\n                <option value=\"male-homo\">Мужчина Гомосексуалист</option>\n                <option value=\"female-homo\">Женщина Гомосексуалист</option>\n                <option value=\"male-bi\">Мужчина Би</option>\n                <option value=\"female-bi\">Женщина Би</option>\n                <option value=\"non-binary\">Не бинарный</option>\n              </Select>\n          </FormLayout>\n\n          <Group header={<Header mode=\"secondary\">Ваши предпочтения</Header>}>\n          <FormLayout>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-straight\">Мужчина Натурал</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-straight\">Женщина Натурал</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-homo\">Мужчина Гомосексуалист</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-homo\">Женщина Гомосексуалист</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"male-bi\">Мужчина Би</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"female-bi\">Женщина Би</Checkbox>\n              <Checkbox onChange={this.handleCheckbox} name=\"non-binary\">Не бинарный</Checkbox>\n           <Button mode=\"secondary\" onClick={() => { this.register_user(); }} size=\"xl\">Продолжить</Button>\n          </FormLayout>\n          </Group>\n\n        </Group>\n       </Panel>\n    </View>\n\n</Root>\n      )\n    }\n  }\n\n\nReactDOM.render(<Example />, document.getElementById('root'));"],"sourceRoot":""}